import{b as V,Z as S,j as B,A as C,M as j,O as o,ai as n,o as E,U as t,a,S as d,a9 as M,a2 as N}from"./@vue-DuLrxf2X.js";import{u as U}from"./vue-router-11agx4en.js";import{u as I}from"./login-BWe_jNdb.js";import{_ as L,S as z}from"./index-D69LMJuj.js";import{E as A}from"./element-plus-Ctj9zTtO.js";import"./request-KPIbsDrP.js";import"./axios-CCb-kr4I.js";import"./nprogress-kPy6QMHr.js";import"./@kangc-gu18bvMu.js";import"./vue-DoXTYsZj.js";import"./@element-plus-C3F0jtPG.js";import"./pinia-SNm9yluJ.js";import"./vue-demi-Dq6ymT-8.js";import"./prismjs-3VRiJhH1.js";import"./highlight.js-B4C3kCeh.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-BuAFA7S7.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-B2SHKluj.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-8uccrNCM.js";const K={style:{padding:"30px"}},O={class:"flex justify-center font-sty"},h={__name:"login",setup(D){const w=I(),u=U(),l=V(!1),s=S({username:"",password:""}),f=async()=>{if(s.username&&s.password){l.value=!0;try{const{data:r,status_code:e}=await w.login(s);e===200&&(z.set(JSON.stringify(r[0])),A.success("登录成功"),g())}catch{l.value=!1}}l.value=!1},g=()=>{u.push({path:"/config"}),l.value=!1},y=()=>{u.push({path:"/register"})},p=r=>{r.keyCode===13&&f()};return B(()=>{window.addEventListener("keydown",p)}),C(()=>{window.removeEventListener("keydown",p,!1)}),(r,e)=>{const c=n("el-input"),m=n("el-form-item"),v=n("el-form"),_=n("el-button"),x=n("el-card"),b=n("el-col"),k=n("el-row");return E(),j(k,null,{default:o(()=>[t(b,{span:12,offset:12,style:{height:"100vh"},class:"flex flex-col items-center justify-center"},{default:o(()=>[t(x,{class:"box-card"},{footer:o(()=>[a("div",O,[e[7]||(e[7]=d(" 没有账号？ ")),t(_,{link:"",type:"primary",onClick:y,style:{color:"#0058F9"}},{default:o(()=>e[6]||(e[6]=[d("立即注册")])),_:1})])]),default:o(()=>[a("div",K,[e[5]||(e[5]=a("div",{class:"welc"},"欢迎登录",-1)),t(v,{model:s,"label-position":"top"},{default:o(()=>[t(m,{label:"用户名"},{default:o(()=>[t(c,{id:"username",modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=i=>s.username=i),size:"large",placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),t(m,{label:"密码"},{default:o(()=>[t(c,{id:"password",type:"password",modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.password=i),size:"large",placeholder:"请输入密码",autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(m,null,{default:o(()=>e[3]||(e[3]=[a("div",{style:{width:"100%"},class:"w100 flex justify-between font-sty"},null,-1)])),_:1})]),_:1},8,["model"]),a("div",null,[t(_,{id:"loginBtn",class:"login-form__button",loading:l.value,type:"primary",onKeydown:e[2]||(e[2]=M(i=>p(),["enter"])),onClick:N(f,["prevent"])},{default:o(()=>e[4]||(e[4]=[d("登录")])),_:1},8,["loading"])])])]),_:1})]),_:1})]),_:1})}}},me=L(h,[["__scopeId","data-v-7a510ac3"]]);export{me as default};
