import{u as C}from"./index-BZ0-GGld.js";import{s as F}from"./pinia-SNm9yluJ.js";import{u as N}from"./ws-C1Y02uT6.js";import{b as d,e as T,ai as a,aq as j,o as t,c as e,U as _,O as p,S as A,P as O,M as v,F as f,a8 as g,T as k}from"./@vue-DuLrxf2X.js";import"./request-KPIbsDrP.js";import"./axios-CCb-kr4I.js";import"./index-D69LMJuj.js";import"./vue-router-11agx4en.js";import"./nprogress-kPy6QMHr.js";import"./@kangc-gu18bvMu.js";import"./vue-DoXTYsZj.js";import"./element-plus-Ctj9zTtO.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-BuAFA7S7.js";import"./@element-plus-C3F0jtPG.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-B2SHKluj.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-8uccrNCM.js";import"./prismjs-3VRiJhH1.js";import"./highlight.js-B4C3kCeh.js";import"./vue-demi-Dq6ymT-8.js";const V={class:"p-4 mt-2",style:{"min-height":"450px"}},$={key:0},q={key:1},E={key:1,class:"mt-6"},ut={__name:"eventBackground",setup(J){const i=d(!1),m=N(),{ws:L,roomId:b,backgroundInfo:u}=F(m),y=C(),o=d(u.value),h=async()=>{i.value=!0;const s=await y.getBackground(b.value);if(i.value=!1,s.data[0]){const n=s.data[0].trim().replace(/\n/g,""),l=JSON.parse(n);o.value=l}else o.value=null;m.setBackgroundInfo(o.value)};return T(()=>u.value,s=>{o.value=s},{immediate:!0}),(s,n)=>{const l=a("el-button"),B=a("el-descriptions-item"),w=a("el-descriptions"),x=a("el-empty"),S=j("loading");return t(),e("div",null,[_(l,{color:"#0058F9",plain:"",onClick:h,loading:i.value},{default:p(()=>n[0]||(n[0]=[A("查看背景")])),_:1},8,["loading"]),O((t(),e("div",V,[o.value?(t(),v(w,{key:0,title:"背景信息",column:3,border:""},{default:p(()=>[(t(!0),e(f,null,g(o.value,(r,c)=>(t(),v(B,{label:c,span:c==="时间"||c==="地点"?1:3,"label-class-name":"desc-sty"},{default:p(()=>[typeof r=="object"&&r!==null?(t(),e("div",$,[(t(!0),e(f,null,g(r,(D,I)=>(t(),e("div",null,k(`${I}：${D}`),1))),256))])):(t(),e("div",q,k(r),1))]),_:2},1032,["label","span"]))),256))]),_:1})):(t(),e("div",E,[_(x,{description:"无背景信息"})]))])),[[S,i.value]])])}}};export{ut as default};
